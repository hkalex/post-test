<!DOCTYPE html>
<html lang="en-US">
 
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Landing page</title>
    <script>
        let d = new Date();
var initialLoad = true;
        //alert("Today's date is " + d);

window.onload = function()
{
	console.log('Landing page loaded 1');
	initialLoad = false;

	  if (window.opener) {
	        // This is the way to tell the caller that "READY"
	        window.opener.postMessage("READY", "https://eldersinsurance--devmod.sandbox.lightning.force.com")
   	 }
	
}

	// Called sometime after postMessage is called
window.addEventListener('message', (event) => {
  // Do we trust the sender of this message?
 // if (event.origin !== "http://example.com:8080") return;

  // event.source is window.opener
  // event.data is "hello there!"

  // Assuming you've verified the origin of the received message (which
  // you must do in any case), a convenient idiom for replying to a
  // message is to call postMessage on event.source and provide
  // event.origin as the targetOrigin.

console.log('event.data=='+event.data);
/*if(event.data == "Are you Ready")
{
	console.log('before post message');

  event.source.postMessage(
    "I am ready",
    event.origin,
  );
	console.log('after post message');
}
else
{
	console.log('Data received from SF=='+event.data);
}*/


});


    </script>
</head>
 
<body>

<b>This is the Landing Page</b>


</body>
 
</html>
